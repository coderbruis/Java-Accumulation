## 拷贝是啥？

按字面意思理解，就是Ctrl+C和Ctrl+V，即复制、粘贴。

## 浅拷贝和深拷贝

## 零拷贝

大家是否有思考过，一台机器底层是如何将一个文件通过网络传输给另外一台机器的，其底层运作原理是怎样实现的？

在操作系统层面，可以描述为如下几步：

1. JVM通过OS将文件内容读取到内存中，JVM会向OS发起read系统调用，此时会从用户态切换为内核态；
2. 文件是存在硬盘中的，磁盘读取了文件的内容后，内核会通过DMA来将文件内容映射到内核地址空间的缓冲区中；
3. 此时内核缓冲区中的数据会拷贝到用户空间缓冲区，read系统调用返回，此时内核态切换为用户态；
4. 此时JVM中已经存放有文件中的数据了，就需要通过网络将数据传送到另外一台机器上；
5. JVM会向OS发起write系统调用，此时会触发上下文切换，从用户态切换为内核态；
6. OS会将用户缓冲区中的数据拷贝到内核中和目标机器有关的socket缓冲区；
7. 数据最终经由Socket，通过DMA传送到硬件（如网卡）缓冲区，从而进行下一步的网络通信，write系统调用返回，并从内核态切换为用户态；